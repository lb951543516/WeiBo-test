{% extends 'base.html' %}

{% block content %}
<script src="../../static/jquery-3.5.1/jquery-3.5.1.js"></script>
<h1 align="center">微博首页</h1>
<hr>


{% for item in blog %}
<a href="/blog/read?bid={{item.id}}">
    <div class="alert alert-info" role="alert" style="text-align: left">
        <span style="font-size: 22px;color: black">{{ item.author.username }}</span>
        &nbsp&nbsp&nbsp&nbsp
        <span style="color: black">{{ item.update_time }}</span>

        <hr style="margin-bottom: 8px;margin-top: 8px">
        <!--实现换行-->
        <span style="font-size: 20px;color: black">{{ item.content | replace('\n', '<br>') | safe }} </span>
    </div>
</a>
{% endfor %}


<div align="center" style="margin-bottom: 30px">
    <nav aria-label="Page navigation" class="navbar-sta">
        <ul class="pagination">

            <!--前一页-->
            <li>
                {% if page>1 %}
                <a href="/blog/?page={{page-1}}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
                {%else%}
                <a href="#" aria-label="Previous" style="color: gray">
                    <span aria-hidden="true">&laquo;</span>
                </a>
                {%endif%}
            </li>

            <!--页码显示-->
            {% for x in page_range %}
            {% if x==page %}
            <li><a href="/blog/?page={{x}}" style="color: gray">{{x}}</a></li>
            {% else %}
            <li><a href="/blog/?page={{x}}">{{x}}</a></li>
            {% endif %}
            {% endfor %}

            <!--后一页-->
            <li>
                {% if page < max_pages %}
                <a href="/blog/?page={{page+1}}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
                {%else%}
                <a href="#" aria-label="Next" style="color: gray">
                    <span aria-hidden="true">&raquo;</span>
                </a>
                {%endif%}
            </li>
        </ul>
    </nav>
</div>
{% endblock %}
